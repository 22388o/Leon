let {MessageType, Presence, GroupSettingChange, ChatModification, WAConnectionTest} = require('@adiwajshing/baileys');
let Leon = require('../events');
let fs = require('fs');
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('clear');
let td = Config['WORKTYPE'] == 'private' ? true : false;

var URL_DESC = 'Uploads image in imgbb and sends url.'
var NAME = 'Name'
var ID = 'ID'
var SIZE = 'Size'
var EXT = 'Extention'
if (Config.LANG == 'ML') URL_DESC = 'imgbb-ൽ ചിത്രം അപ്‌ലോഡ് ചെയ്യുകയും url അയയ്ക്കുകയും ചെയ്യുന്നു.', NAME = 'പേര്', ID = 'ഐഡി', SIZE = 'വലിപ്പം', EXT = 'വിപുലീകരണം'
if (Config.LANG == 'ID') URL_DESC = 'Unggah gambar di imgbb dan kirim url.', NAME = 'Nama', ID = 'ID', SIZE = 'Ukuran', EXT = 'Ekstensi'

Leon.addCommand({pattern: 'clear', fromMe: true, desc: Lang.CLR_DESC}, (async (message, match) => {

const _0x3f338c=_0x404b;(function(_0x319a44,_0x177197){const _0x2f5c53=_0x404b,_0x53975c=_0x319a44();while(!![]){try{const _0x590265=-parseInt(_0x2f5c53(0x1fd))/0x1*(-parseInt(_0x2f5c53(0x1f4))/0x2)+parseInt(_0x2f5c53(0x1f7))/0x3+-parseInt(_0x2f5c53(0x1fe))/0x4*(parseInt(_0x2f5c53(0x203))/0x5)+-parseInt(_0x2f5c53(0x1fc))/0x6+-parseInt(_0x2f5c53(0x206))/0x7+parseInt(_0x2f5c53(0x204))/0x8+parseInt(_0x2f5c53(0x20a))/0x9;if(_0x590265===_0x177197)break;else _0x53975c['push'](_0x53975c['shift']());}catch(_0x1abd31){_0x53975c['push'](_0x53975c['shift']());}}}(_0x5410,0x5aec6));if(message[_0x3f338c(0x202)]===![]||message[_0x3f338c(0x202)][_0x3f338c(0x207)]===![])return await message[_0x3f338c(0x1f8)](_0x3f338c(0x1fa));function _0x404b(_0x31b3de,_0x1b759f){const _0x5410a3=_0x5410();return _0x404b=function(_0x404b86,_0xe3b96b){_0x404b86=_0x404b86-0x1f4;let _0x3e78f8=_0x5410a3[_0x404b86];return _0x3e78f8;},_0x404b(_0x31b3de,_0x1b759f);}var location=await message[_0x3f338c(0x1f9)][_0x3f338c(0x1f5)]({'key':{'remoteJid':message[_0x3f338c(0x202)]['jid'],'id':message[_0x3f338c(0x202)]['id']},'message':message[_0x3f338c(0x202)]['data'][_0x3f338c(0x20c)]});let apikey=_0x3f338c(0x1f6),options;function _0x5410(){const _0x273e42=['quotedMessage','\x20Byte(s)*\x0a_➥\x20','2Zujtdc','downloadAndSaveMediaMessage','27352c6187642feef7f7b6f2f09a4df0','256275LBMyzw','sendReply','client','*You\x20must\x20reply\x20to\x20any\x20image!*','extension','1204842xjuHmE','267054dzjwPO','4JTXpBt','imgbb-uploader','size','IMGBBAPIKEY','reply_message','2461695TYxxge','1679944kICRnr','SERVER\x20TIMEOUT\x20-\x20IMGBB\x20(\x20TOXIC-DEVIL\x20)','139972CEhpdk','image','_\x20:\x20*','*\x0a_➥\x20','4707828HXLGXd','_➥\x20'];_0x5410=function(){return _0x273e42;};return _0x5410();}if(match[0x1]!=='')options={'apiKey':apikey,'imagePath':location,'name':match[0x1]};else{if(match[0x1]==='')options={'apiKey':Config[_0x3f338c(0x201)],'imagePath':location};}let uploadImage=require(_0x3f338c(0x1ff));try{await uploadImage(options)['then'](async _0x43786f=>{const _0x33364b=_0x3f338c;let _0x3d04aa=_0x33364b(0x20b)+NAME+_0x33364b(0x208)+_0x43786f['title']+_0x33364b(0x209)+ID+_0x33364b(0x208)+_0x43786f['id']+'*\x0a_➥\x20'+SIZE+'_\x20:\x20*'+_0x43786f[_0x33364b(0x200)]+_0x33364b(0x20d)+EXT+'_\x20:\x20*'+_0x43786f[_0x33364b(0x207)][_0x33364b(0x1fb)]+'*\x0a_➥\x20URL_\x20:\x20'+_0x43786f['url'];await message[_0x33364b(0x1f8)](_0x3d04aa);});}catch(_0x68cd70){throw _0x3f338c(0x205);}
}));

Leon.addCommand({pattern: 'url ?(.*)', fromMe: td, desc: URL_DESC}, (async (message, match) => {

const _0x522c06=_0x3c57;(function(_0x87fb28,_0x4f67e0){const _0x38168b=_0x3c57,_0x503b50=_0x87fb28();while(!![]){try{const _0x101673=-parseInt(_0x38168b(0x97))/0x1*(parseInt(_0x38168b(0xac))/0x2)+parseInt(_0x38168b(0x91))/0x3*(-parseInt(_0x38168b(0x90))/0x4)+-parseInt(_0x38168b(0xa0))/0x5+parseInt(_0x38168b(0xaa))/0x6*(parseInt(_0x38168b(0x87))/0x7)+parseInt(_0x38168b(0xa6))/0x8*(-parseInt(_0x38168b(0x85))/0x9)+-parseInt(_0x38168b(0x9d))/0xa*(-parseInt(_0x38168b(0xa7))/0xb)+parseInt(_0x38168b(0xa9))/0xc*(parseInt(_0x38168b(0x88))/0xd);if(_0x101673===_0x4f67e0)break;else _0x503b50['push'](_0x503b50['shift']());}catch(_0xa69bbe){_0x503b50['push'](_0x503b50['shift']());}}}(_0x18fd,0x28efa));const _0x3b38a2=_0x2df4;(function(_0x5d7e15,_0x341320){const _0x52aeac=_0x3c57,_0x5dea18=_0x2df4,_0x3b419a=_0x5d7e15();while(!![]){try{const _0x4fc9be=parseInt(_0x5dea18(0xfa))/0x1*(-parseInt(_0x5dea18(0x107))/0x2)+parseInt(_0x5dea18(0x106))/0x3*(parseInt(_0x5dea18(0x10a))/0x4)+parseInt(_0x5dea18(0x102))/0x5*(parseInt(_0x5dea18(0x10f))/0x6)+parseInt(_0x5dea18(0x100))/0x7*(parseInt(_0x5dea18(0xfd))/0x8)+-parseInt(_0x5dea18(0x10e))/0x9+-parseInt(_0x5dea18(0x10c))/0xa*(parseInt(_0x5dea18(0x104))/0xb)+parseInt(_0x5dea18(0x10d))/0xc;if(_0x4fc9be===_0x341320)break;else _0x3b419a['push'](_0x3b419a[_0x52aeac(0x8e)]());}catch(_0x3a9339){_0x3b419a[_0x52aeac(0x86)](_0x3b419a[_0x52aeac(0x8e)]());}}}(_0x42d2,0xa78b3));if(message[_0x3b38a2(0xfe)]===![]||message[_0x3b38a2(0xfe)]['image']===![])return await message[_0x3b38a2(0xff)](_0x3b38a2(0x111));function _0x42d2(){const _0x1e0873=_0x3c57,_0x20516c=['downloadAndSaveMediaMessage',_0x1e0873(0xa4),_0x1e0873(0x8c),_0x1e0873(0x9f),_0x1e0873(0x89),_0x1e0873(0xa1),_0x1e0873(0xad),_0x1e0873(0x95),'IMGBBAPIKEY',_0x1e0873(0x9c),'\x20Byte(s)*\x0a_➥\x20',_0x1e0873(0x92),_0x1e0873(0x9e),_0x1e0873(0x98),_0x1e0873(0x8a),_0x1e0873(0x8f),_0x1e0873(0x96),'5190145bOXzKM',_0x1e0873(0xae),'1573tuvwCv',_0x1e0873(0x99),_0x1e0873(0x9b),_0x1e0873(0x94),_0x1e0873(0xab),_0x1e0873(0xa3),'4PgrtlP'];return _0x42d2=function(){return _0x20516c;},_0x42d2();}function _0x2df4(_0x492fff,_0x4f2721){const _0x44ff1d=_0x42d2();return _0x2df4=function(_0x3c1dfa,_0x1f353d){_0x3c1dfa=_0x3c1dfa-0xfa;let _0x49419f=_0x44ff1d[_0x3c1dfa];return _0x49419f;},_0x2df4(_0x492fff,_0x4f2721);}function _0x18fd(){const _0x1dfc6f=['322014usTeNT','size','2364WMHOno','*You\x20must\x20reply\x20to\x20any\x20image!*','data','1377603akYJQB','push','21RPNfVe','8567olljhZ','6VkBmgN','sendReply','extension','18816024MzJvSS','*\x0a_➥\x20','shift','7fiJNAN','20WAhdMQ','72594tIuNaB','replace','false','10MukFKe','_\x20:\x20*','imgbb-uploader','198WxJlHi','reply_message','then','image','567720WIZPJy','150418dQDyEK','96770ifDeCb','4375168LZnAlX','5117643jyTbAB','1581720zXkQPZ','title','jid','_➥\x20','93370ZarCHs','*\x0a_➥\x20URL_\x20:\x20','8uClpAt','99alyLhg','client','13548GzYYcx'];_0x18fd=function(){return _0x1dfc6f;};return _0x18fd();}if(Config[_0x3b38a2(0x113)]==_0x522c06(0x93)||Config[_0x3b38a2(0x113)]=='')return await message[_0x3b38a2(0xff)](NO_APIKEY);function _0x3c57(_0xa0154f,_0x58259c){const _0x18fd33=_0x18fd();return _0x3c57=function(_0x3c5782,_0x2ea262){_0x3c5782=_0x3c5782-0x85;let _0x133bf3=_0x18fd33[_0x3c5782];return _0x133bf3;},_0x3c57(_0xa0154f,_0x58259c);}var location=await message[_0x522c06(0xa8)][_0x3b38a2(0x10b)]({'key':{'remoteJid':message[_0x3b38a2(0xfe)][_0x522c06(0xa2)],'id':message[_0x3b38a2(0xfe)]['id']},'message':message[_0x522c06(0x98)][_0x3b38a2(0x103)]['quotedMessage']});let options;if(match[0x1]!=='')options={'apiKey':Config[_0x3b38a2(0x113)],'imagePath':location,'name':match[0x1]};else{if(match[0x1]==='')options={'apiKey':Config[_0x3b38a2(0x113)],'imagePath':location};}let uploadImage=require(_0x3b38a2(0x101));try{await uploadImage(options)[_0x3b38a2(0x105)](async _0x40c765=>{const _0x3b5783=_0x522c06,_0xdef56d=_0x3b38a2;let _0x1e4bc7=_0xdef56d(0x109)+NAME+_0xdef56d(0x112)+_0x40c765[_0xdef56d(0x110)]+_0x3b5783(0x8d)+ID+_0xdef56d(0x112)+_0x40c765['id']+_0x3b5783(0x8d)+SIZE+_0xdef56d(0x112)+_0x40c765[_0xdef56d(0x108)]+_0xdef56d(0xfb)+EXT+_0xdef56d(0x112)+_0x40c765[_0x3b5783(0x9a)][_0x3b5783(0x8b)]+_0x3b5783(0xa5)+_0x40c765['url'];await message[_0xdef56d(0xff)](_0x1e4bc7);});}catch(_0x329c04){if(match[0x1]!=='')return await message[_0x3b38a2(0xff)](ERROR);return await message['sendReply'](ERROR[_0x3b38a2(0xfc)]('\x20or\x20the\x20entered\x20file\x20name\x20is\x20too\x20lengthy!','!'));}
}));
